# 콘서트 예약 서비스 마일스톤

본 문서는 콘서트 예약 서비스의 전체 개발 마일스톤을 단계별로 정리한 문서입니다.
각 단계별 목표, 산출물, 기간을 포함하고 있으며 DB/인프라, 동시성 처리, 테스트 계획까지 포함합니다.

---

## 1. 설계 단계 (Design Phase)
| 기간 | 주요 목표 | 산출물 |
|------|-----------|--------|
| 1주차 | 요구사항 분석 | 요구사항 명세서, Use Case 문서 |
| 1~2주차 | DB 설계 및 ERD | ERD 다이어그램, 테이블 정의서 (User, Wallet, QueueToken, Reservation, Payment 등) |
| 2주차 | 인프라 설계 | 아키텍처 다이어그램, 서비스 컴포넌트 정의 (API Gateway, Redis, MQ, PG 연동 등) |
| 2~3주차 | API 설계 | OpenAPI 3.0 스펙, 엔드포인트 정의, 요청/응답/에러 케이스 정의 |

---

## 2. 구현 단계 1 (Backend Core)
| 기간 | 주요 목표 | 산출물 |
|------|-----------|--------|
| 3~4주차 | 인증/로그인 구현 | JWT 발급, QueueToken 발급, 사용자 인증 로직 |
| 4~5주차 | 콘서트/스케줄/좌석 조회 | DB 연동, 캐시(Redis) 적용, 좌석 등급(zone) + 가격 반영 |
| 5~6주차 | Wallet 구현 | 포인트 조회/충전/차감 API, PG 연동, 트랜잭션 처리 |

---

## 3. 구현 단계 2 (예약 및 결제)
| 기간 | 주요 목표 | 산출물 |
|------|-----------|--------|
| 6~7주차 | 좌석 임시 예약 구현 | TTL 5분, Redis 분산락, Reservation 테이블 기록, MQ 연동 |
| 7~8주차 | 결제 확정 구현 | Wallet 포인트 차감, External PG API 호출, 결제 상태 확정, Reservation 상태 CONFIRMED 처리 |
| 8~9주차 | 동시성/충돌 처리 | 좌석 충돌, TTL 만료, QueueToken 상태 검증, 409/410 처리 로직 |

---

## 4. 테스트 & QA
| 기간 | 주요 목표 | 산출물 |
|------|-----------|--------|
| 9~10주차 | 단위 테스트 | 각 서비스 단위 테스트, DB 트랜잭션 테스트 |
| 10~11주차 | 통합 테스트 | 시퀀스 다이어그램 기반 기능 테스트, 동시성 시나리오 테스트 |
| 11주차 | 성능 테스트 | Redis/DB 캐시 hit/miss, Message Queue 처리량, API 부하 테스트 |
| 11~12주차 | 최종 QA | 전체 기능 검증, 버그 수정, 운영 배포 준비 |

---

## 5. 배포 & 운영
| 기간 | 주요 목표 | 산출물 |
|------|-----------|--------|
| 12주차 | 배포 준비 | Docker 이미지, Kubernetes 배포 스크립트, 배포 문서 |
| 12주차 | 운영 모니터링 | 로깅/트레이싱, Metrics/Monitoring, Alert 정책 설정 |

---

## 6. 참고 사항
- 각 서비스는 MSA 기반으로 독립 배포 가능
- Redis 분산락과 Message Queue를 활용하여 동시성 이슈 최소화
- QueueToken 상태와 TTL을 기반으로 좌석 예약 권한 관리
- 결제와 Wallet 차감은 트랜잭션 단위로 일관성 보장

---

## 7. 콘서트 예약 서비스 개발 일정 (Gantt Chart)

```mermaid
gantt
    title 콘서트 예약 서비스 개발 마일스톤
    dateFormat  YYYY-MM-DD
    axisFormat  %m/%d

    section 기초 설계
    DB 설계 및 ERD               :done,   des1, 2025-11-10, 3d
    OpenAPI 명세 작성             :done,   des2, 2025-11-13, 2d
    인프라 구성도 설계            :done,   des3, 2025-11-15, 2d

    section 핵심 기능 개발
    로그인 & 인증 서비스           :active, auth, 2025-11-17, 3d
    콘서트 조회 서비스             :active, concert, 2025-11-17, 3d
    좌석 조회 & 임시 예약 서비스    :booking, 2025-11-20, 4d
    결제 서비스 & PG 연동          :payment, 2025-11-24, 4d
    Wallet 서비스 구현             :wallet, 2025-11-24, 3d

    section 테스트 & 검증
    단위 테스트                    :unit, 2025-11-28, 3d
    통합 테스트                    :integration, 2025-12-01, 4d
    부하 테스트 / 동시성 검증      :load, 2025-12-05, 3d

    section 배포
    스테이징 배포                  :staging, 2025-12-08, 2d
    운영 배포                      :prod, 2025-12-10, 1d
